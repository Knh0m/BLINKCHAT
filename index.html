<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="BlinkChat - Ultra-minimal random chat web app">
  <title>BlinkChat</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'chat-bg': '#121212',
            'chat-primary': '#3B82F6',
            'chat-secondary': '#4B5563'
          },
          animation: {
            'fade-in': 'fadeIn 0.2s ease-in-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            }
          }
        }
      }
    }
  </script>
  <style>
    /* Custom scrollbar for chat area */
    #chat-messages::-webkit-scrollbar {
      width: 6px;
    }
    #chat-messages::-webkit-scrollbar-track {
      background: #1F2937;
    }
    #chat-messages::-webkit-scrollbar-thumb {
      background: #4B5563;
      border-radius: 3px;
    }
    #chat-messages::-webkit-scrollbar-thumb:hover {
      background: #6B7280;
    }
    /* Ensure the page fills the viewport */
    html, body {
      height: 100%;
      overflow: hidden;
    }
  </style>
</head>
<body class="bg-chat-bg text-gray-200 dark">
  <main class="flex flex-col h-screen max-h-screen p-4 mx-auto max-w-2xl">
    <!-- Status bar -->
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center">
        <div id="status-indicator" class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></div>
        <span id="status-text" class="text-sm">Connecting...</span>
      </div>
      <div class="flex items-center">
        <span id="nickname" class="text-sm mr-2 font-medium"></span>
        <button id="new-chat-btn" class="bg-red-600 hover:bg-red-700 text-white text-sm py-1 px-3 rounded transition-colors">
          New Chat
        </button>
      </div>
    </div>
    
    <!-- Chat messages area -->
    <section id="chat-messages" class="flex-grow overflow-y-auto mb-4 space-y-3 p-2">
      <!-- Messages will be added here dynamically -->
    </section>
    
    <!-- Input area - fixed at bottom -->
    <section class="sticky bottom-0 bg-gray-800 rounded-lg p-2 shadow-lg">
      <form id="message-form" class="flex items-center">
        <input 
          id="message-input" 
          type="text" 
          placeholder="Type a message..." 
          maxlength="500" 
          class="flex-grow bg-gray-700 text-white rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          aria-label="Message input"
        >
        <button 
          type="submit" 
          class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-r-lg transition-colors"
          aria-label="Send message"
        >
          Send
        </button>
      </form>
    </section>
  </main>

  <!-- Templates for message bubbles -->
  <template id="message-template">
    <div class="message-container animate-fade-in">
      <div class="nickname text-xs text-gray-400 mb-1"></div>
      <div class="message-bubble p-3 rounded-lg max-w-[80%] break-words"></div>
    </div>
  </template>

  <!-- Load JavaScript module -->
  <script type="module" src="main.js"></script>
</body>
</html>
